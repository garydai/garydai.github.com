---
layout: default

title: mybatis

---

## mybatis


### 单独使用
init SqlSessionFactory

configuration.addMapper(Mapper.class)

sqlSessionFactory.openSession()

session.opration(insert...)

### spring+mybatis
init SqlSessionFactoryBean

mappper.xml

@MapperScan

@Import(MapperScannerRegistrar.class)

@Bean sqlSessionFactoryBean

执行语句之后，会关闭session，所以一级缓存失效


### 接口层

### 数据处理层
#### 参数映射
#### SQL解析
#### SQL执行
#### 结果处理和映射

### 框架支撑层
### 引导层
![](https://github.com/garydai/garydai.github.com/raw/master/_posts/pic/mybatis.png)

![](https://github.com/garydai/garydai.github.com/raw/master/_posts/pic/mybatis2.png)