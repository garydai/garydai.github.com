---
layout: default

title: kafka

---

## kafka

生产者

消费者

偏移量提交



第一层是主题层，每个主题可以配置 M 个分区，而每个分区又可以配置 N 个副本。

第二层是分区层，每个分区的 N 个副本中只能有一个充当领导者角色，对外提供服务；其他 N-1 个副本是追随者副本，只是提供数据冗余之用。

第三层是消息层，分区中包含若干条消息，每条消息的位移从 0 开始，依次递增。

最后，客户端程序只能与分区的领导者副本进行交互。

![image-20191025140100157](https://github.com/garydai/garydai.github.com/raw/master/_posts/pic/image-20191025140100157.png)